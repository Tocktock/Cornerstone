# Cornerstone environment example
# Copy to .env.local or export variables as needed before running the app/tests.

# Embedding configuration (remote vLLM example)
EMBEDDING_MODEL=vllm:qwen3-embedding-4b
VLLM_EMBEDDING_BASE_URL=https://your-vllm-host:8000
VLLM_API_KEY=
# VLLM_EMBEDDING_CONCURRENCY=4
# VLLM_EMBEDDING_BATCH_SIZE=16
# Point VLLM_EMBEDDING_BASE_URL at your vLLM server (omit /v1/embeddings).
# To revert to local HuggingFace embeddings, set EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
# To target Ollama embeddings instead, use EMBEDDING_MODEL=ollama:qwen3-embedding and adjust base URL via OLLAMA_BASE_URL.

# Chat backend selection (local Ollama example)
CHAT_BACKEND=ollama
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=gpt-oss:20b
OLLAMA_TIMEOUT=60
# Adjust OLLAMA_MODEL to the tag you've pulled locally.

# Retrieval reranker configuration (optional)
# RERANKER_STRATEGY=embedding
# RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
# RERANKER_MAX_CANDIDATES=8

# Qdrant vector store
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION=embeddings
# Uncomment to enable on-disk payload/vector storage and custom HNSW tuning
# QDRANT_ON_DISK_PAYLOAD=1
# QDRANT_ON_DISK_VECTORS=1
# QDRANT_HNSW_M=32
# QDRANT_HNSW_EF_CONSTRUCT=256
# QDRANT_HNSW_FULL_SCAN_THRESHOLD=20000

# Local Ollama backend tuning
# Increase if using heavy Ollama embedding models to parallelise HTTP requests
# OLLAMA_EMBEDDING_CONCURRENCY=4

# Glossary controls
GLOSSARY_PATH=glossary/glossary.yaml
GLOSSARY_TOP_K=3

# Knowledge management
DATA_DIR=data
DEFAULT_PROJECT_NAME=Default Project
RETRIEVAL_TOP_K=3
# CHAT_TEMPERATURE=0.2
# CHAT_MAX_TOKENS=600
# KEYWORD_LLM_MAX_CANDIDATES=25000
# KEYWORD_LLM_MAX_TOKENS=750000
# KEYWORD_LLM_MAX_CHUNKS=10000

# Background keyword job controls
# KEYWORD_RUN_MAX_CONCURRENCY=1  # Default 1: parallel workers allowed to process keyword runs
# KEYWORD_RUN_MAX_QUEUE=8        # Default 8: maximum jobs allowed in the queue before rejecting new requests
# KEYWORD_RUN_CACHE_TTL=86400    # Default 86400s: cache freshness window before forcing a refresh
# KEYWORD_RUN_AUTO_REFRESH=0     # Default 0: set to 1 to automatically enqueue a run after ingestion completes
# KEYWORD_RUN_SYNC_MODE=1        # Default 1: set to 0 to enable asynchronous background processing

# Observability metrics
# OBSERVABILITY_METRICS_ENABLED=1
# OBSERVABILITY_NAMESPACE=cornerstone
